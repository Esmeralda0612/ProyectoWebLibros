<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="header-carrito">
        <div class="logo-web-carrito">Bookstore</div>
        <div class="busq-carrito">
            <input type="text" id="search-input"  placeholder="Buscar">
        </div>
        <div class="icon-carrito">
            <img src="img/shopping-bag-ui-svgrepo-com.svg" alt="bolsa">
            <span class="cart-count" id="cart-count">0</span>
        </div>
    </div>
    <main class="main-carrito">
        <div class="product-grid" id="product-grid"></div>
        <div class="product-carrito1">
            <img src="https://1.bp.blogspot.com/-SMHQRYbFdTE/Xydh4k19DBI/AAAAAAAAMP8/2G6B_8jol5oDCy4bFwsPWmtgBrSV4LhvACNcBGAsYHQ/s2048/caraval.jpg" alt="Caraval">
            <div class="info-carrito">
                <h3>Caraval</h3>
                <div class="price-carrito">$19.99</div>
                <button class="add-to-cart-btn" data-id="1">Añadir al carrito</button>
            </div>
        </div>

        <div class="product-grid" id="product-grid"></div>
        <div class="product-carrito2">
            <img src="https://geekninja.com.br/wp-content/uploads/2020/12/Colecao-Anne-Os-3-primeiros-livros-1024x555.jpg" alt="Anne">
            <div class="info-carrito">
                <h3>Pack de Anna de las tejas verdes</h3>
                <div class="price-carrito">$28.99</div>
                <button class="add-to-cart-btn" data-id="1">Añadir al carrito</button>
            </div>
        </div>

        <div class="product-grid" id="product-grid"></div>
        <div class="product-carrito3">
            <img src="https://th.bing.com/th/id/OIP.gZWn7TyzriSvfP870oNJmQHaEK?w=254&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7" alt="Alas de Sangre">
            <div class="info-carrito">
                <h3>Alas de sangre</h3>
                <div class="price-carrito">$18.95</div>
                <button class="add-to-cart-btn" data-id="1">Añadir al carrito</button>
            </div>
        </div>

        <div class="product-grid" id="product-grid"></div>
        <div class="product-carrito4">
            <img src="https://th.bing.com/th/id/OIP.pI_RNlDk7w7Fm6DQ1rBlZgHaD4?w=314&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7" alt="CNQMEQC">
            <div class="info-carrito">
                <h3>Cuando no queden 
                    más estrellas que contar</h3>
                </h3>
                <div class="price-carrito">$19.99</div>
                <button class="add-to-cart-btn" data-id="1">Añadir al carrito</button>
            </div>
        </div>

        <div class="product-grid" id="product-grid"></div>
        <div class="product-carrito5">
            <img src="https://th.bing.com/th/id/OIP.AEv4Pc5S8nXbvZXlxaAi1QHaHa?w=172&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7" alt="Faro">
            <div class="info-carrito">
                <h3>El faro de los amores dormidos</h3>
                <div class="price-carrito">$19.99</div>
                <button class="add-to-cart-btn" data-id="1">Añadir al carrito</button>
            </div>
        </div>
            
    </main>
    <aside class="cart-sidebar" id="cart-sidebar">
        <h2>Tu Carrito</h2>
        <button class="clos-button" id="close-button">x</button> 
        <div class="cart-items-container" id="cart-items-container"></div>
        <button class="checkout-btn" id="checkout-btn">Pagar</button>

        <div class="cart-sidebar-footer">
            <button id="checkout-btn">Pagar</button>
            <button id="close-cart">Cerrar</button>
        </div>
</body>
</html>



const products = [
{ id: 1, name: 'Sony DSRL Camera', price: 279.99, image: 'https://images.pexels.com/photos/51383/photo-camera-subject-photographer-51383.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1' },
{ id: 2, name: 'Court Suit', price: 49.99, image: 'https://images.pexels.com/photos/325876/pexels-photo-325876.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1' },
{ id: 3, name: 'Nemo Adult Fish', price: 39.99, image: 'https://images.pexels.com/photos/128756/pexels-photo-128756.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1' },
{ id: 4, name: 'Iphone 14 Pro', price: 499.99, image: 'https://images.pexels.com/photos/788946/pexels-photo-788946.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1' },
{ id: 5, name: 'Table Fan', price: 24.99, image: 'https://images.pexels.com/photos/3675622/pexels-photo-3675622.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1' },
{ id: 6, name: 'Sealing Bulb', price: 14.99, image: 'https://images.pexels.com/photos/577514/pexels-photo-577514.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1' },
];

const cart = [];

const productGrid = document.getElementById('product-grid');
const cartItemsContainer = document.getElementById('cart-items-container');
const cartSidebar = document.getElementById('cart-sidebar');
const cartIcon = document.getElementById('cart-icon');
const cartCount = document.getElementById('cart-count');
const closeCartButton = document.getElementById('close-cart');
const checkoutButton = document.getElementById('checkout-btn');

function renderProducts() {
products.forEach(product => {
    const productCard = document.createElement('div');
    productCard.classList.add('product-card');
    productCard.innerHTML = `
        <img src="${product.image}" alt="${product.name}">
        <div class="info">
            <h3>${product.name}</h3>
            <div class="price">$${product.price.toFixed(2)}</div>
            <button class="add-to-cart-btn" data-id="${product.id}">Add to Cart</button>
        </div>
    `;
    productGrid.appendChild(productCard);
});
}

function updateCart() {
cartItemsContainer.innerHTML = '';
let total = 0;
cart.forEach(item => {
    total += item.price;
    const cartItem = document.createElement('div');
    cartItem.classList.add('cart-item');
    cartItem.innerHTML = `
        <div class="cart-item-inner">
            <img src="${item.image}" alt="${item.name}" class="cart-item-image">
            <div class="item-info">
                <h3>${item.name}</h3>
                <div class="price">$${item.price.toFixed(2)}</div>
            </div>
            <button class="remove-btn" data-id="${item.id}">&times;</button>
        </div>
    `;
    cartItemsContainer.appendChild(cartItem);
});
cartCount.innerText = cart.length;
}

function addToCart(productId) {
const product = products.find(p => p.id === productId);
if (product) {
    cart.push(product);
    updateCart();
}
}


function removeFromCart(productId) {
const index = cart.findIndex(p => p.id === productId);
if (index !== -1) {
    cart.splice(index, 1);
    updateCart(); }
}


document.addEventListener('click', function (e) {
if (e.target.classList.contains('add-to-cart-btn')) {
    const productId = parseInt(e.target.getAttribute('data-id'));
    addToCart(productId);
} else if (e.target.classList.contains('remove-btn')) {
    const productId = parseInt(e.target.getAttribute('data-id'));
    removeFromCart(productId);
} else if (e.target.id === 'cart-icon') {
    cartSidebar.classList.toggle('open');
} else if (e.target.id === 'close-cart') {
    cartSidebar.classList.remove('open');
} else if (e.target.id === 'checkout-btn') {
    alert('Proceed to checkout');
}
});

renderProducts();
